{% extends 'base.html' %}
{% load static %}
{% block content %}   
<!-- Breadcrumb Start -->
<div class="breadcrumb-wrap">
    <div class="container-fluid">
        <ul class="breadcrumb">
            <li class="breadcrumb-item"><a href="{% url 'store:index' %}">Home</a></li>
            <li class="breadcrumb-item"><a href="{% url 'store:product_list' %}">Products</a></li>
            <li class="breadcrumb-item active">My Account</li>
        </ul>
    </div>
</div>
<!-- Breadcrumb End -->

<!-- My Account Start -->
<div class="my-account">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-3">
                <div class="nav flex-column nav-pills" role="tablist" aria-orientation="vertical">
                    <a class="nav-link active" id="orders-nav" data-toggle="pill" href="#orders-tab" role="tab"><i class="fa fa-shopping-bag" style="width: 30px; text-align: center;"></i>Orders</a>
                    <a class="nav-link" id="payment-nav" data-toggle="pill" href="#payment-tab" role="tab"><i class="fa fa-credit-card" style="width: 30px; text-align: center;"></i>Payment Method</a>
                    <a class="nav-link" id="address-nav" data-toggle="pill" href="#address-tab" role="tab"><i class="fas fa-map-marker-alt" style="width: 30px; text-align: center;"></i>Address</a>
                    <a class="nav-link" id="account-nav" data-toggle="pill" href="#account-tab" role="tab"><i class="fa fa-user" style="width: 30px; text-align: center;"></i>Update Account</a>
                    <a class="nav-link" href="{% url 'account:signout' %}"><i class="fa fa-sign-out-alt" style="width: 30px; text-align: center;"></i>Logout</a>
                </div>
            </div>
            <div class="col-md-9">
                <div class="tab-content">
                    <div class="tab-pane fade show active" id="orders-tab" role="tabpanel" aria-labelledby="orders-nav">
                        <div class="table-responsive">
                            <table class="table table-bordered">
                                {% if orders %}
                                <thead class="thead-dark">
                                    <tr>
                                        <th>No</th>
                                        <th>Product</th>
                                        <th>Date</th>
                                        <th>Price</th>
                                        <th>Status</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for order in orders %}
                                    <tr>
                                        <td>{{ forloop.counter }}</td>
                                        <td>{{ order.product.product_name }}</td>
                                        <td>{{ order.order_date }}</td>
                                        <td>â‚¦{{ order.price }}</td>
                                        <td>{{ order.status }}</td>
                                        <td><a href="{% url 'store:product_detail' order.product.id order.product.product_name.split|join:'_' %}"><button class="btn">View</button></a></td>
                                    </tr>
                                    {% endfor %}
                                </tbody>
                                {% else %}
                                <div style="text-align: center; color: #070707; width: 100%; font-size: 15px; font-weight: bold; font-style: italic;">You have not placed any orders.</div>
                                {% endif %}
                            </table>
                        </div>
                    </div>
                    <div class="tab-pane fade" id="payment-tab" role="tabpanel" aria-labelledby="payment-nav">
                        <h4>Payment Method</h4>
                        <p>
                            Lorem ipsum dolor sit amet, consectetur adipiscing elit. In condimentum quam ac mi viverra dictum. In efficitur ipsum diam, at dignissim lorem tempor in. Vivamus tempor hendrerit finibus. Nulla tristique viverra nisl, sit amet bibendum ante suscipit non. Praesent in faucibus tellus, sed gravida lacus. Vivamus eu diam eros. Aliquam et sapien eget arcu rhoncus scelerisque.
                        </p> 
                    </div>
                    <div class="tab-pane fade" id="address-tab" role="tabpanel" aria-labelledby="address-nav">
                        <h4 style="font-weight: bold;">ADDRESS</h4>
                        <div class="row">
                            <div class="col-md-6">
                                <h5 style="font-weight: 800; text-transform:uppercase; padding: 20px 0 5px 0; border-bottom: 1px solid #0000004d;">Permanent Address</h5>
                                <p>123 Payment Street, Los Angeles, CA</p>
                                <p>Mobile: 012-345-6789</p>
                            </div>
                            <div class="col-md-6">
                                <h5 style="font-weight: 800; text-transform:uppercase; padding: 20px 0 5px 0; border-bottom: 1px solid #0000004d;">Shipping Address</h5>
                                <p>123 Shipping Street, Los Angeles, CA</p>
                                <p>Mobile: 012-345-6789</p>
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane fade" id="account-tab" role="tabpanel" aria-labelledby="account-nav">
                        <h4>Account Details</h4>
                        <form method="POST">
                            {% csrf_token %}
                            <div class="row">
                                <div class="col-md-6">
                                    <input class="form-control" type="text" placeholder="First Name" name="first_name" value="{{ profile.first_name }}">
                                </div>
                                <div class="col-md-6">
                                    <input class="form-control" type="text" placeholder="Last Name" name="last_name" value="{{ profile.last_name }}">
                                </div>
                                <div class="col-md-6">
                                    <input class="form-control" type="text" placeholder="Mobile" name="mobile" value="{{ profile.mobile }}">
                                </div>
                                <div class="col-md-6">
                                    <input class="form-control" type="text" placeholder="Email" name="email" value="{{ profile.email }}">
                                </div>
                                <div class="col-md-12">
                                    <input class="form-control" type="text" placeholder="Permanent Address" name="permanent_address"  value="{{ profile.permanent_address }}">
                                </div>
                                <div class="col-md-12">
                                    <input class="form-control" type="text" placeholder="Shipping Address" name="shipping_address" value="{{ profile.shipping_address }}">
                                </div>
                                <div class="col-md-12">
                                    <button class="btn" type="submit" name="update_account">Update Account</button>
                                    <br><br>
                                </div>
                            </div>
                        </form>
                        <h4>Password change</h4>
                        <form method="POST">
                            {% csrf_token %}
                            <div class="row">
                                <div class="col-md-12">
                                    <input class="form-control" type="password" placeholder="Current Password" name="current_password">
                                </div>
                                <div class="col-md-6">
                                    <input class="form-control" type="text" placeholder="New Password" name="new_password">
                                </div>
                                <div class="col-md-6">
                                    <input class="form-control" type="text" placeholder="Confirm Password" name="confirm_password">
                                </div>
                                <div class="col-md-12">
                                    <button class="btn" type="submit" name="change_password">Change Password</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- My Account End -->

{% endblock %}